Run command "kubectl create -f <filename>" to create

Directory structure

/voting-app
	voting-app-pod.yml
	result-app-pod.yml
	redis-pod.yml
	postgres-pod.yml
	worker-app-pod.yml
	redis-service.yml
	postgres-service.yml
	voting-app-service.yml
	result-app-service.yml


voting-app-pod.yml
apiVersion: v1
kind: Pod
metedata:
	name: voting-app-pod
	labels:
		name: voting-app-pod
		app: demo-voting-app
spec:
	container:
		name: voting-app
		image: kodekloud/examplevotingapp_vote:v1
		ports:
			containerPort: 80

result-app-pod.yml
apiVersion: v1
kind: Pod
metedata:
	name: result-app-pod.
	labels:
		name: result-app-pod
		app: demo-voting-app
spec:
	container:
		- name: result-app
		image: kodekloud/examplevotingapp_result:v1
		ports:
			- containerPort: 80


redis-pod.yml
apiVersion: v1
kind: Pod
metedata:
	name: redis-pod
	labels:
		name: redis-pod
		app: demo-voting-app
spec:
	container:
		name: redis
		image: redis
		ports:
			containerPort: 6379

postgres-pod.yml
apiVersion: v1
kind: Pod
metedata:
	name: postgres-pod
	labels:
		name: postgres-pod
		app: demo-voting-app
spec:
	container:
		name: postgres
		image: postgres
		ports:
			- containerPort: 5432
		env:
			- name: POSTGRES_USER
			value: "postgres"
			- name: POSTGRES_PASSWORD
			value: "postgres"
			
worker-app-pod.yml
apiVersion: v1
kind: Pod
metedata:
	name: worker-app-pod
	labels:
		name: worker-app-pod
		app: demo-voting-app
spec:
	container:
		name: worker-app
		image: kodekloud/examplevotingapp_worker:v1
		
redis-service.yml
apiVersion: v1
kind: Service
metedata:
	name: redis
	labels:
		name: redis-service
		app: demo-voting-app
spec:
	ports:
		- port: 6379
		targetPort: 6379
	selector:
		name: redis
		app: demo-voting-app

postgres-service.yml
apiVersion: v1
kind: Service
metedata:
	name: db
	labels:
		name: postgres-service
		app: demo-voting-app
spec:
	ports:
		- port: 5432
		targetPort: 5432
	selector:
		name: postgres-pod
		app: demo-voting-app

voting-app-service.yml
apiVersion: v1
kind: Service
metedata:
	name: voting-service
	labels:
		name: voting-service
		app: demo-voting-app
spec:
	type: NodePort
	ports:
		- port: 80
		targetPort: 80
		nodePort: 30004
	selector:
		name: voting-app-pod
		app: demo-voting-app

result-app-service.yml
apiVersion: v1
kind: Service
metedata:
	name: result-service
	labels:
		name: result-service
		app: demo-voting-app
spec:
	type: NodePort
	ports:
		- port: 80
		targetPort: 80
		nodePort: 30005
	selector:
		name: result-app-pod
		app: demo-voting-app


